DATAS SEGMENT
    FIRST DB 0,255
    SECOND DB 128,148,168,186,203,218,232,242,249,254,255,254,249,242,232,218,203,186,168,148,128,108,88,70,53,38,24,14,7,2,0,2,7,14,24,38,53,70,88,108
DATAS ENDS

STACKS SEGMENT
    THIRD DB 100 DUP(?)
STACKS ENDS

CODES SEGMENT
    ASSUME CS:CODES,DS:DATAS,SS:STACKS
CYCLE PROC FAR
    MOV CX,1000
NEXT:
    LOOP NEXT
    RET
CYCLE ENDP
MAIN PROC FAR
STARTING:
    MOV AX,DATAS
    MOV DS,AX
KAISHI:
    MOV AH,01H
    INT 21H
    CMP AL,31H
    JZ NEXT1
    CMP AL,32H
    JZ NEXT2
    JMP KAISHI
NEXT1:
    MOV SI,OFFSET FIRST
    MOV AL,[SI]
    MOV DX,290H
    OUT DX,AL
    CALL CYCLE
    INC SI
    MOV AL,[SI]
    OUT DX,AL
    CALL CYCLE
    MOV DL,0FFH
    MOV AH,06H
    INT 21H
    CMP AL,0DH
    JZ EXIT
    JMP NEXT1
NEXT2:
    MOV SI,OFFSET SECOND
    MOV BX,40
NEXT3:
    MOV AL,[SI]
    MOV DX,290H
    OUT DX,AL
    INC SI
    DEC BX
    CMP BX,0
    JA NEXT3
    MOV DL,0FFH
    MOV AH,06H
    INT 21H
    CMP AL,0DH
    JZ EXIT
    JMP NEXT2    
EXIT:
    MOV AH,01H
    INT 21H
    CMP AL,33H
    JZ KAISHI
    MOV AH,4CH
    INT 21H
MAIN ENDP
CODES ENDS
    END MAIN

